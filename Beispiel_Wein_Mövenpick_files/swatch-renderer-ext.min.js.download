define(['jquery','mage/translate'],function($,$t){'use strict';return function(swatchRenderer){$.widget('mage.SwatchRenderer',swatchRenderer,{options:{selectorProductTile:'.cs-product-tile',toggleFromPriceLabel:true,toggleOldPrice:true,},_RenderFormInput:function(config){var originalHtml=this._super(config);var validationMessage=$t('Please select %1').replace('%1',config.label);return originalHtml.replace('data-validate="{required: true}"','data-validate="{required: true}" data-msg-required="'+
validationMessage+'"');},_UpdatePrice:function(){this._super();this.updatePriceLabel();},updatePriceLabel:function(){var optionAmount=this.element.find('.'+this.options.classes.attributeClass).length;var optionSelected=this.element.find('.'+
this.options.classes.attributeClass+'[data-option-selected]').length;var isSimpleProductSelected=optionAmount===optionSelected;var $product=this.element.parents(this.options.selectorProduct);var result=this._getNewPrices();var isDiscounted=typeof result!=='undefined'&&result.oldPrice.amount!==result.finalPrice.amount;var isDDActive=$product.find('.product-info-price').hasClass('cs-price--pdp_dailydeal-countdown');$product.find(this.options.slyOldPriceSelector).toggle(isDiscounted&&isSimpleProductSelected&&this.options.toggleOldPrice);$product.find(this.options.selectorProductPrice).find('span:first').toggleClass('special-price',isDDActive?true:isDiscounted&&isSimpleProductSelected);$product.find('.normal-price .price-label').toggle(!isSimpleProductSelected&&this.options.toggleFromPriceLabel);},updateBaseImage:function(images,context,isInProductView){if(isInProductView){return this._super(images,context,isInProductView);}
var justAnImage=images[0];if(justAnImage){var imageSrcSet=justAnImage.tile&&justAnImage.tile2x?`${justAnImage.tile} 1x, ${justAnImage.tile2x} 2x`:justAnImage.img;if(imageSrcSet){this.element.parents(this.options.selectorProductTile).find('.cs-product-tile__image source').attr('srcset',imageSrcSet).attr('data-srcset',imageSrcSet);}}},});return $.mage.SwatchRenderer;};});