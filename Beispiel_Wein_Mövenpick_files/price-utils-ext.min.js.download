define(['underscore'],function(_){'use strict';const globalPriceFormat={requiredPrecision:2,integerRequired:1,decimalSymbol:',',groupSymbol:',',groupLength:',',locale:'de-CH',};function formatPriceLocale(amount,format,isShowSign){var s='',precision,pattern,locale,r;format=_.extend(globalPriceFormat,format);precision=isNaN((format.requiredPrecision=Math.abs(format.requiredPrecision)))?2:format.requiredPrecision;pattern=format.pattern||'%s';locale=window.LOCALE==='fr-CH'?globalPriceFormat.locale:window.LOCALE||"en-US";if(isShowSign===undefined||isShowSign===true){s=amount<0?'-':isShowSign?'+':'';}else if(isShowSign===false){s='';}
pattern=pattern.indexOf('{sign}')<0?s+pattern:pattern.replace('{sign}',s);amount=Number(Math.round(Math.abs(+amount||0)+'e+'+precision)+
('e-'+precision));r=amount.toLocaleString(locale,{minimumFractionDigits:precision,});return pattern.replace('%s',r).replace(/^\s\s*/,'').replace(/\s\s*$/,'');}
return function(priceUtils){return _.extend({},priceUtils,{formatPriceLocale:formatPriceLocale,});};});