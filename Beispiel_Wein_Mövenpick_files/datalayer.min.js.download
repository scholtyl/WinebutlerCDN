define(['underscore','jquery','dataLayerGa4ShareComponent'],function(_,$,dataLayerShareComponent){'use strict';return function(config){var shareComponent=dataLayerShareComponent();shareComponent.setConfig(config);if(_.isArray(config.data)){var storedData=null;_.each(config.data,function(data){if(_.has(data,'event')&&data.event==='view_item'){if(storedData===null){storedData=shareComponent.getProductClickStorageData();}
if(_.has(storedData,'sku')&&_.contains(_.pluck(data.ecommerce.items,"item_id"),storedData.sku)){_.each(data.ecommerce.items,function(item){shareComponent.addDynamicElements(storedData,item);});if(_.has(storedData,'item_list_id')){data.ecommerce.item_list_id=storedData.item_list_id;}
if(_.has(storedData,'item_list_name')){data.ecommerce.item_list_name=storedData.item_list_name;}}}
shareComponent.setProductCollection(data);shareComponent.getDataLayerObject().push(data);});}
shareComponent.trackClick();}});