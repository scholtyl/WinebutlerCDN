define(['jquery'],function($){'use strict';return function(targetWidget){$.validator.addMethod('validate-is-adult',function(value,element,params){const years=parseInt(params?.age);if(!years||isNaN(years)){console.error('Invalid age parameter:',params);return true;}
const dateParts=value.split(".");if(dateParts.length!==3){console.error('Invalid date format:',value);return false}
const day=parseInt(dateParts[0],10);const month=parseInt(dateParts[1],10)-1;const year=parseInt(dateParts[2],10);const inputDate=new Date(year,month,day);if(isNaN(inputDate)){console.error('Invalid date:',inputDate);return false;}
const today=new Date();const comparisonDate=new Date(today.getFullYear()-years,today.getMonth(),today.getDate());return inputDate<=comparisonDate;},$.mage.__('You have not reached the minimum age to purchase alcoholic drinks'))
return targetWidget;}});