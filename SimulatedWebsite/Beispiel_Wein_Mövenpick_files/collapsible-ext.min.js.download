define(['jquery','matchMedia'],function($,mediaCheck){'use strict';return function(mageCollapsible){$.widget('mage.collapsible',mageCollapsible,{options:{mediaQueryScope:'',isCreated:false,initialActiveOption:undefined,disableScrollIntoViewport:true,},_create:function(isMediaCheckActive){this.options.initialActiveOption=this.options.active;if(typeof isMediaCheckActive==='undefined'){isMediaCheckActive=false;}
if(!this.options.mediaQueryScope.length||isMediaCheckActive){this._super();this.options.isCreated=true;}else{this._scopeToMediaQuery();}
return this;},_scopeToMediaQuery:function(){var mediaQueryScope=this.options.mediaQueryScope;mediaCheck({media:mediaQueryScope,entry:$.proxy(function(){if(!this.options.isCreated){this._recreate();}},this),exit:$.proxy(function(){if(this.options.isCreated){this._initDestroySequence();}},this),});},_recreate:function(){this.options.active=this.options.initialActiveOption;this._create(true);},_initDestroySequence:function(){this.activate();this._destroy();this._off(this.trigger);this.options.isCreated=false;},_scrollToTopIfNotVisible:function(){if(!this.options.disableScrollIntoViewport){this._super();}},});return $.mage.collapsible;};});